$def with (startupsTable, numPages, query, sort)

$def startup_item(name, description, entire_item, pageNum):
	<a href = "#page$pageNum" class="hellofromtheotherside$entire_item.startup_id" data-toggle="modal" data-target="#myModal$entire_item.startup_id">
		<div class="col-md-2 panel">
			<div class="panel-heading">$name</div>
			<div class="panel-body">$description</div>
		</div>
	</a>
	<div class="modal fade" id="myModal$entire_item.startup_id" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Startup: $name</h4>
				</div>
				<div class="modal-body">
					<p>Description: $description</p>
				</div>
				<div class="modal-footer text-center">
					<a href="mailto:$entire_item.contact_email?subject=Interested%20Investor%20for%20$name%20Startup" target="_top"><button type="button" class="btn btn-default">Contact This Startup</button></a>
				</div>
			</div>
		</div>
	</div>

$def table_row(tuplist, pageNum):
	$if len(tuplist) == 1:
		<table width="100%">
			<div>
				<div class="col-md-5"></div>
				$:startup_item(tuplist[0][0],tuplist[0][1],tuplist[0][2], pageNum)
				<div class="col-md-5"></div>
			</div>
		</table>
	$elif len(tuplist) == 2:
		<table width="100%">
			<div>
				<div class="col-md-3"></div>
				$:startup_item(tuplist[0][0],tuplist[0][1],tuplist[0][2], pageNum)
				<div class="col-md-2"></div>
				$:startup_item(tuplist[1][0],tuplist[1][1],tuplist[1][2], pageNum)
				<div class="col-md-3"></div>
			</div>
		</table>
	$elif len(tuplist) == 3:
		<table width="100%">
			<div>
				<div class="col-md-2"></div>
				$:startup_item(tuplist[0][0],tuplist[0][1],tuplist[0][2], pageNum)
				<div class="col-md-1"></div>
				$:startup_item(tuplist[1][0],tuplist[1][1],tuplist[1][2], pageNum)
				<div class="col-md-1"></div>
				$:startup_item(tuplist[2][0],tuplist[2][1],tuplist[2][2], pageNum)
				<div class="col-md-2"></div>
			</div>
		</table>

$def table(portion_Table, pageNum):
	$ count = 0
	$while count < len(portion_Table):
		$ tuplist = []
		$for i in range(3):
			$if count != len(portion_Table):
				$ index = portion_Table[count]
				$ tuplist.append((index.startup_name, index.startup_description, index))
				$ count += 1
			$else:
				$ break
		$:table_row(tuplist, pageNum)

$var title: Startups

<!--things to take into account: text-align center, relative position, floating?, overflow hidden, making links not turn blue, panel height,
	and also, can add the color and transparency as style-sheet classes later on-->
<script> 
jQuery(document).ready(function(){
    jQuery('a.pageNumber').click(function(){
        jQuery('a.pageNumber').removeClass('active');
        jQuery(this).addClass('active');
    });
});
</script>

<br><br><br><br><br>

$if query != "hasnotchangedlolol":
	<h3 class="sQ">You searched for:</h2>
	<h4 class="sQ"><u>$query</u></h3>
	<p class="sQ">Returned $len(startupsTable) result(s).</p>
	<br>
$else:
	<h3 class="sQ"><u> A List of Boston University Startups! </u></h3>
	<br><br>
$if numPages == 0:
	$:table(startupsTable, 0)
$else:
	<div class="cssPagination">
		<div class="pages">
			$for i in range(0,(numPages)):
				$ j = i + 1
				$ portion = []
				$if i == (numPages - 1):
					<div class="page" id="page$j">
					$ portion = startupsTable[i*9:]
					$:table(portion, j)
					</div>
					<div class="page" id="page1">
					$ portion = startupsTable[:9]
					$:table(portion, 1)
					</div>
				$elif i > 0: 
					<div class="page" id="page$j">
					$ portion = startupsTable[(i*9):(i*9 + 8)]
					$:table(portion, j)
					</div>
		</div>
		<br><br><div class="wooh">
		<ul class="pageNav">
			$for i in range(numPages):
				$ x = i + 1
				$if x == 1:
					<li><a class="pageNumber active" href="#page$x">$x</a></li>
				$else:
					<li><a class="pageNumber" href="#page$x">$x</a></li>
		</ul></div>
	</div>

<br><br><br><br><br>
<h4 align="middle"><i>Optionally Sort By...</i></h4>
<!--Other optional filters: most recent, most money, most viewed/popular, etc.-->
<div class="wooh"><a href="startups?filter=alphabetical"><button type="button" class="btn btn-info">[A-Z] Startup Name</button></a></div>



	